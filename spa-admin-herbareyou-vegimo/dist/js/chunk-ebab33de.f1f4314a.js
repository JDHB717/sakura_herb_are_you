(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ebab33de"],{"1c73":function(e,t,r){"use strict";var n=r("7a23"),a={key:0,class:"p-0 m-0"};function s(e,t,r,s,c,i){return 0!==e.errorMessages.length?(Object(n["q"])(),Object(n["e"])("div",a,[(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(e.errorMessages,(function(e,t){return Object(n["q"])(),Object(n["e"])("p",{key:t,class:"text-danger p-0 m-0"},Object(n["z"])(e),1)})),128))])):Object(n["d"])("",!0)}var c=Object(n["i"])({props:{errorMessages:{type:Array,default:[],required:!1}}}),i=r("d959"),u=r.n(i);const o=u()(c,[["render",s]]);t["a"]=o},"40cf":function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=Object(n["f"])("h2",{class:"mb-3"},"Home",-1),s={key:0,id:"app"},c=Object(n["f"])("p",{class:"text-danger"}," キャッシュを削除するために、反映までに少し時間がかかります ",-1),i={class:"table table-striped"},u=Object(n["f"])("th",null,[Object(n["g"])("動画1"),Object(n["f"])("br"),Object(n["g"])("アップできるフォーマットは動画のみとなります")],-1),o={class:"py-2"},l=["src"];function p(e,t,r,p,b,d){var h=Object(n["x"])("ErrorMessage"),f=Object(n["x"])("UploadFile");return Object(n["q"])(),Object(n["e"])(n["a"],null,[a,Object(n["h"])(h,{message:e.message},null,8,["message"]),e.isShow?(Object(n["q"])(),Object(n["e"])("div",s,[Object(n["f"])("div",null,[c,Object(n["f"])("table",i,[Object(n["f"])("tr",null,[u,Object(n["f"])("td",o,[Object(n["h"])(f,{filePath:e.filePath},null,8,["filePath"])]),Object(n["f"])("td",null,[Object(n["f"])("video",{width:"200",height:"",controls:"",src:e.cloudFrontBaseurl+e.filePath+"?"+e.dateTime},null,8,l)])])])])])):Object(n["d"])("",!0)],64)}var b=r("1da1"),d=(r("96cf"),r("8e27")),h=r("1c73"),f=r("8a99"),m=Object(n["i"])({name:"PageHome",components:{ErrorMessage:d["a"],ValidateError:h["a"],UploadFile:f["a"]},data:function(){return{isShow:!1,message:"",items:[],submitDisable:!1,cloudFrontBaseurl:"https://content.herbareyou.jp/herbareyou/",filePath:"assets/img/home/home.mp4",dateTime:Date.now()}},beforeRouteUpdate:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isShow=!0;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{commonError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;422===e.status&&(this.validateErrors=e.data),""!==e.message&&(this.message=e.message)}}}),g=r("d959"),j=r.n(g);const O=j()(m,[["render",p]]);t["default"]=O},"8a99":function(e,t,r){"use strict";var n=r("7a23"),a={id:""};function s(e,t,r,s,c,i){var u=Object(n["x"])("ErrorMessage");return Object(n["q"])(),Object(n["e"])("div",a,[Object(n["f"])("div",null,[e.inputFileFlg?(Object(n["q"])(),Object(n["e"])("input",{key:0,type:"file",id:"file",onChange:t[0]||(t[0]=function(){return e.uploadToS3&&e.uploadToS3.apply(e,arguments)})},null,32)):Object(n["d"])("",!0)]),Object(n["h"])(u,{message:e.message},null,8,["message"])])}var c=r("1da1"),i=(r("96cf"),r("b0c0"),r("b32d")),u=r("bc3a"),o=r.n(u),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(i["a"])({url:"".concat("https://api-admin.herbareyou.jp/api/v1/","upload-files/getPreSignedUrl"),method:"post",params:{file_name:e,file_path:t}})},p=function(e){return Object(i["a"])({url:"".concat("https://api-admin.herbareyou.jp/api/v1/","upload-files/confirm"),method:"post",params:{hash:e}})},b=function(e,t){var r={"Content-Type":t.type};return o.a.put(e,t,{headers:r}).then((function(e){return{success:!0}})).catch((function(e){return console.log(e.status),{success:!1}}))},d=r("8e27"),h=Object(n["i"])({name:"UploadFile",layout:"base",components:{ErrorMessage:d["a"]},props:{filePath:{type:String,required:!1}},data:function(){return{message:"",inputFileFlg:!0}},methods:{resetMessage:function(){this.message=""},setInputFileEmpty:function(){this.inputFileFlg=!1,this.$nextTick((function(){this.inputFileFlg=!0}))},uploadToS3:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.message="",r=t.target.files[0],e.next=4,l(r.name,this.filePath);case 4:if(n=e.sent,n.success){e.next=8;break}return this.message="アップロードに失敗しました",e.abrupt("return");case 8:return e.next=10,b(n.data.pre_signed_url,r);case 10:if(a=e.sent,a.success){e.next=14;break}return this.message="アップロードに失敗しました",e.abrupt("return");case 14:return e.next=16,p(n.data.hash);case 16:if(s=e.sent,s.success){e.next=20;break}return this.message="アップロードに失敗しました",e.abrupt("return");case 20:this.setInputFileEmpty(),this.$emit("uploadedFile",s.data);case 22:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){}}),f=r("d959"),m=r.n(f);const g=m()(h,[["render",s]]);t["a"]=g},"8e27":function(e,t,r){"use strict";var n=r("7a23"),a={class:"mb-3 mt-4 mp-0 w-75"},s={key:0,class:"text-danger"};function c(e,t,r,c,i,u){return Object(n["q"])(),Object(n["e"])("div",a,[e.message?(Object(n["q"])(),Object(n["e"])("p",s,Object(n["z"])(e.message),1)):Object(n["d"])("",!0)])}var i=Object(n["i"])({name:"ErrorMessage",props:{message:{type:String,required:!0}}}),u=r("d959"),o=r.n(u);const l=o()(i,[["render",c]]);t["a"]=l}}]);
//# sourceMappingURL=chunk-ebab33de.f1f4314a.js.map