(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-050675d0"],{"1c73":function(e,t,r){"use strict";var n=r("7a23"),c={key:0,class:"p-0 m-0"};function l(e,t,r,l,a,u){return 0!==e.errorMessages.length?(Object(n["s"])(),Object(n["g"])("div",c,[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["y"])(e.errorMessages,(function(e,t){return Object(n["s"])(),Object(n["g"])("p",{key:t,class:"text-danger p-0 m-0"},Object(n["C"])(e),1)})),128))])):Object(n["f"])("",!0)}var a=Object(n["k"])({props:{errorMessages:{type:Array,default:[],required:!1}}}),u=r("d959"),o=r.n(u);const s=o()(a,[["render",l]]);t["a"]=s},"281c":function(e,t,r){"use strict";r.r(t);var n=r("7a23"),c=function(e){return Object(n["v"])("data-v-7e905752"),e=e(),Object(n["t"])(),e},l=c((function(){return Object(n["h"])("h2",{class:"mb-3"},"注文詳細",-1)})),a={key:0,id:"app"},u={class:"row"},o={class:"col-6"},s=["selected"],i=["selected"],d=["selected"],b=["selected"],h=["selected"],j=["selected"],O={class:"mt-2"},_=c((function(){return Object(n["h"])("h4",null,"注文情報",-1)})),f={class:"table table-striped"},v=c((function(){return Object(n["h"])("th",null,"id",-1)})),p=c((function(){return Object(n["h"])("th",null,"注文no",-1)})),m=c((function(){return Object(n["h"])("th",null,"購入ステータス",-1)})),y=c((function(){return Object(n["h"])("th",null,"購入日",-1)})),g={class:"mt-2"},L=c((function(){return Object(n["h"])("h4",null,"お客様情報",-1)})),C={class:"table table-striped"},k=c((function(){return Object(n["h"])("th",null,"ユーザーID",-1)})),x=c((function(){return Object(n["h"])("th",null,"Email",-1)})),w=c((function(){return Object(n["h"])("th",null,"ユーザー名",-1)})),E=c((function(){return Object(n["h"])("th",null,"ユーザー名(英語表記)",-1)})),M=c((function(){return Object(n["h"])("th",null,"誕生日",-1)})),V=c((function(){return Object(n["h"])("th",null,"郵便番号",-1)})),S=c((function(){return Object(n["h"])("th",null,"住所",-1)})),R=c((function(){return Object(n["h"])("th",null,"電話番号",-1)})),U={class:"mt-2"},H=c((function(){return Object(n["h"])("h4",null,"配送先情報",-1)})),z={class:"table table-striped"},D=c((function(){return Object(n["h"])("th",null,"配送先名(苗字)",-1)})),A=c((function(){return Object(n["h"])("th",null,"配送先名(名前)",-1)})),I=c((function(){return Object(n["h"])("th",null,"配送先名(苗字)(英語表記)",-1)})),$=c((function(){return Object(n["h"])("th",null,"配送先名(名前)(英語表記)",-1)})),q=c((function(){return Object(n["h"])("th",null,"配送先郵便番号",-1)})),J=c((function(){return Object(n["h"])("th",null,"配送先住所",-1)})),G=c((function(){return Object(n["h"])("th",null,"配送先電話番号",-1)})),N={class:"d-flex justify-content-center"},P={class:"px-2"},T={class:"mt-2"},B=c((function(){return Object(n["h"])("h4",null,"商品詳細",-1)})),F=c((function(){return Object(n["h"])("th",null,"商品id",-1)})),K=c((function(){return Object(n["h"])("th",null,"品番",-1)})),Q=c((function(){return Object(n["h"])("th",null,"シリーズ名",-1)})),W=c((function(){return Object(n["h"])("th",null,"商品名",-1)})),X=c((function(){return Object(n["h"])("th",null,"サイズ",-1)})),Y=c((function(){return Object(n["h"])("th",null,"価格",-1)})),Z=c((function(){return Object(n["h"])("th",null,"数量",-1)})),ee=c((function(){return Object(n["h"])("th",null,"小計",-1)})),te={class:"mt-2"},re=c((function(){return Object(n["h"])("h4",null,"総合計",-1)})),ne={class:"table table-striped"},ce=c((function(){return Object(n["h"])("th",null,"購入数合計",-1)})),le=c((function(){return Object(n["h"])("th",null,"合計(消費税)",-1)})),ae=c((function(){return Object(n["h"])("th",null,"送料合計",-1)})),ue=c((function(){return Object(n["h"])("th",null,"決済手数料",-1)})),oe=c((function(){return Object(n["h"])("th",null,"割引合計",-1)})),se=c((function(){return Object(n["h"])("th",null,"総合計",-1)}));function ie(e,t,r,c,ie,de){var be,he=Object(n["A"])("ErrorMessage"),je=Object(n["A"])("ValidateError");return Object(n["s"])(),Object(n["g"])(n["a"],null,[l,Object(n["j"])(he,{message:e.message},null,8,["message"]),e.isShow?(Object(n["s"])(),Object(n["g"])("div",a,[Object(n["h"])("div",u,[Object(n["h"])("div",o,[Object(n["L"])(Object(n["h"])("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.status=t}),onChange:t[1]||(t[1]=function(t){return e.updateStatus()})},[Object(n["h"])("option",{value:0,selected:0===e.status},"仮購入",8,s),Object(n["h"])("option",{value:1,selected:1===e.status}," 発送待ち(支払い済み) ",8,i),Object(n["h"])("option",{value:2,selected:2===e.status},"発送済み",8,d),Object(n["h"])("option",{value:3,selected:3===e.status}," 完了(アフターメール送信完了) ",8,b),Object(n["h"])("option",{value:8,selected:8===e.status},"購入失敗",8,h),Object(n["h"])("option",{value:9,selected:9===e.status},"キャンセル",8,j)],544),[[n["G"],e.status]]),Object(n["j"])(je,{errorMessages:null!==(be=e.validateErrors["status"])&&void 0!==be?be:[]},null,8,["errorMessages"])])]),Object(n["h"])("div",O,[_,Object(n["h"])("table",f,[Object(n["h"])("tr",null,[v,Object(n["h"])("td",null,Object(n["C"])(e.order.id),1)]),Object(n["h"])("tr",null,[p,Object(n["h"])("td",null,Object(n["C"])(e.order.order_no),1)]),Object(n["h"])("tr",null,[m,Object(n["h"])("td",null,Object(n["C"])(e.order.status_text),1)]),Object(n["h"])("tr",null,[y,Object(n["h"])("td",null,Object(n["C"])(e.order.created_at),1)])])]),Object(n["h"])("div",g,[L,Object(n["h"])("table",C,[Object(n["h"])("tr",null,[k,Object(n["h"])("td",null,Object(n["C"])(e.order.user_id),1)]),Object(n["h"])("tr",null,[x,Object(n["h"])("td",null,Object(n["C"])(e.order.user_email),1)]),Object(n["h"])("tr",null,[w,Object(n["h"])("td",null,Object(n["C"])(e.order.user_last_name)+" "+Object(n["C"])(e.order.user_first_name),1)]),Object(n["h"])("tr",null,[E,Object(n["h"])("td",null,Object(n["C"])(e.order.user_last_name_kana)+Object(n["C"])(e.order.user_first_name_kana),1)]),Object(n["h"])("tr",null,[M,Object(n["h"])("td",null,Object(n["C"])(e.order.user_birthday),1)]),Object(n["h"])("tr",null,[V,Object(n["h"])("td",null,Object(n["C"])(e.order.user_zip),1)]),Object(n["h"])("tr",null,[S,Object(n["h"])("td",null,Object(n["C"])(e.order.user_address1),1)]),Object(n["h"])("tr",null,[R,Object(n["h"])("td",null,Object(n["C"])(e.order.user_tel1),1)])])]),Object(n["h"])("div",U,[H,Object(n["h"])("table",z,[Object(n["h"])("tr",null,[D,Object(n["h"])("td",null,[Object(n["L"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.deliveryLocation.user_delivery_location_last_name=t})},null,512),[[n["H"],e.deliveryLocation.user_delivery_location_last_name]]),Object(n["j"])(je,{errorMessages:e.deliveryLocationValidateErrors.user_delivery_location_last_name},null,8,["errorMessages"])])]),Object(n["h"])("tr",null,[A,Object(n["h"])("td",null,[Object(n["L"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.deliveryLocation.user_delivery_location_first_name=t})},null,512),[[n["H"],e.deliveryLocation.user_delivery_location_first_name]]),Object(n["j"])(je,{errorMessages:e.deliveryLocationValidateErrors.user_delivery_location_first_name},null,8,["errorMessages"])])]),Object(n["h"])("tr",null,[I,Object(n["h"])("td",null,[Object(n["L"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.deliveryLocation.user_delivery_location_last_name_kana=t})},null,512),[[n["H"],e.deliveryLocation.user_delivery_location_last_name_kana]]),Object(n["j"])(je,{errorMessages:e.deliveryLocationValidateErrors.user_delivery_location_last_name_kana},null,8,["errorMessages"])])]),Object(n["h"])("tr",null,[$,Object(n["h"])("td",null,[Object(n["L"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.deliveryLocation.user_delivery_location_first_name_kana=t})},null,512),[[n["H"],e.deliveryLocation.user_delivery_location_first_name_kana]]),Object(n["j"])(je,{errorMessages:e.deliveryLocationValidateErrors.user_delivery_location_first_name_kana},null,8,["errorMessages"])])]),Object(n["h"])("tr",null,[q,Object(n["h"])("td",null,[Object(n["L"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.deliveryLocation.user_delivery_location_zip=t})},null,512),[[n["H"],e.deliveryLocation.user_delivery_location_zip]]),Object(n["j"])(je,{errorMessages:e.deliveryLocationValidateErrors.user_delivery_location_zip},null,8,["errorMessages"])])]),Object(n["h"])("tr",null,[J,Object(n["h"])("td",null,[Object(n["L"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.deliveryLocation.user_delivery_location_address1=t})},null,512),[[n["H"],e.deliveryLocation.user_delivery_location_address1]]),Object(n["j"])(je,{errorMessages:e.deliveryLocationValidateErrors.user_delivery_location_address1},null,8,["errorMessages"])])]),Object(n["h"])("tr",null,[G,Object(n["h"])("td",null,[Object(n["L"])(Object(n["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.deliveryLocation.user_delivery_location_tel1=t})},null,512),[[n["H"],e.deliveryLocation.user_delivery_location_tel1]]),Object(n["j"])(je,{errorMessages:e.deliveryLocationValidateErrors.user_delivery_location_tel1},null,8,["errorMessages"])])])]),Object(n["h"])("div",N,[Object(n["h"])("div",P,[Object(n["h"])("button",{type:"button",class:"btn btn-primary",onClick:t[9]||(t[9]=function(t){return e.updateDeliveryLocation()})}," 更新する ")])])]),Object(n["h"])("div",T,[B,(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["y"])(e.order.details,(function(e){return Object(n["s"])(),Object(n["g"])("table",{class:"table table-striped",key:e.id},[Object(n["h"])("tr",null,[F,Object(n["h"])("td",null,Object(n["C"])(e.product_id),1)]),Object(n["h"])("tr",null,[K,Object(n["h"])("td",null,Object(n["C"])(e.product_no),1)]),Object(n["h"])("tr",null,[Q,Object(n["h"])("td",null,Object(n["C"])(e.product_name1),1)]),Object(n["h"])("tr",null,[W,Object(n["h"])("td",null,Object(n["C"])(e.product_name2),1)]),Object(n["h"])("tr",null,[X,Object(n["h"])("td",null,Object(n["C"])(e.product_price_capacity),1)]),Object(n["h"])("tr",null,[Y,Object(n["h"])("td",null,Object(n["C"])(e.product_price)+"円",1)]),Object(n["h"])("tr",null,[Z,Object(n["h"])("td",null,Object(n["C"])(e.num)+"個",1)]),Object(n["h"])("tr",null,[ee,Object(n["h"])("td",null,Object(n["C"])(e.sub_total)+"円",1)])])})),128))]),Object(n["h"])("div",te,[re,Object(n["h"])("table",ne,[Object(n["h"])("tr",null,[ce,Object(n["h"])("td",null,Object(n["C"])(e.order.total_num)+"個",1)]),Object(n["h"])("tr",null,[le,Object(n["h"])("td",null,Object(n["C"])(e.order.total_product_price)+"("+Object(n["C"])(e.order.total_product_include_tax)+")円 ",1)]),Object(n["h"])("tr",null,[ae,Object(n["h"])("td",null,Object(n["C"])(e.order.total_delivery_charge)+"円",1)]),Object(n["h"])("tr",null,[ue,Object(n["h"])("td",null,Object(n["C"])(e.order.fee)+"円",1)]),Object(n["h"])("tr",null,[oe,Object(n["h"])("td",null,Object(n["C"])(e.order.coupon_discount_price)+"円",1)]),Object(n["h"])("tr",null,[se,Object(n["h"])("td",null,Object(n["C"])(e.order.total_price)+"円",1)])])])])):Object(n["f"])("",!0)],64)}var de=r("1da1"),be=(r("96cf"),r("8e27")),he=r("1c73"),je=r("7c1c"),Oe=Object(n["k"])({name:"OrderIndex",components:{ErrorMessage:be["a"],ValidateError:he["a"]},data:function(){return{isShow:!1,message:"",order:{},validateErrors:[],deliveryLocation:{},deliveryLocationValidateErrors:[],status:null,cancelStatus:9}},beforeRouteUpdate:function(){var e=Object(de["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(de["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(je["b"])(this.$route.params.id);case 2:if(t=e.sent,t.success){e.next=6;break}return this.commonError(t),e.abrupt("return");case 6:this.order=t.data,this.status=this.order.status,this.deliveryLocation={user_delivery_location_email:this.order.user_delivery_location_email,user_delivery_location_last_name:this.order.user_delivery_location_last_name,user_delivery_location_first_name:this.order.user_delivery_location_first_name,user_delivery_location_last_name_kana:this.order.user_delivery_location_last_name_kana,user_delivery_location_first_name_kana:this.order.user_delivery_location_first_name_kana,user_delivery_location_birthday:this.order.user_delivery_location_birthday,user_delivery_location_zip:this.order.user_delivery_location_zip,user_delivery_location_address1:this.order.user_delivery_location_address1,user_delivery_location_tel1:this.order.user_delivery_location_tel1},this.isShow=!0;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{updateStatus:function(){var e=Object(de["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.status!==this.cancelStatus||confirm("注文をキャンセルします。よろしいですか？また、EPSILONの管理画面からキャンセルを確実に行なってください。")){e.next=2;break}return e.abrupt("return");case 2:return this.validateErrors=[],e.next=5,Object(je["d"])(this.$route.params.id,this.status);case 5:if(t=e.sent,t.success){e.next=11;break}return 422===t.status&&(this.validateErrors=t.data),""!==t.message&&(this.message=t.message),this.submitDisable=!1,e.abrupt("return");case 11:alert("更新しました");case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateDeliveryLocation:function(){var e=Object(de["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.message="",this.deliveryLocationValidateErrors=[],e.next=4,Object(je["c"])(this.$route.params.id,this.deliveryLocation);case 4:if(t=e.sent,t.success){e.next=10;break}return 422===t.status&&(this.deliveryLocationValidateErrors=t.data),""!==t.message&&(this.message=t.message),this.submitDisable=!1,e.abrupt("return");case 10:alert("更新しました");case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),_e=(r("f5a0"),r("d959")),fe=r.n(_e);const ve=fe()(Oe,[["render",ie],["__scopeId","data-v-7e905752"]]);t["default"]=ve},"2c7d":function(e,t,r){},"7c1c":function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"d",(function(){return a})),r.d(t,"c",(function(){return u}));r("99af");var n=r("b32d"),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["a"])({url:"".concat("http://localhost:8000/api/admin/v1/","orders"),method:"get",params:e})},l=function(e){return Object(n["a"])({url:"".concat("http://localhost:8000/api/admin/v1/","orders/").concat(e),method:"get"})},a=function(e,t){return Object(n["a"])({url:"".concat("http://localhost:8000/api/admin/v1/","orders/").concat(e,"/updateStatus"),data:{status:t},method:"put"})},u=function(e,t){return Object(n["a"])({url:"".concat("http://localhost:8000/api/admin/v1/","orders/").concat(e,"/updateDeliveryLocation"),data:t,method:"put"})}},"8e27":function(e,t,r){"use strict";var n=r("7a23"),c={class:"mb-3 mt-4 mp-0 w-75"},l={key:0,class:"text-danger"};function a(e,t,r,a,u,o){return Object(n["s"])(),Object(n["g"])("div",c,[e.message?(Object(n["s"])(),Object(n["g"])("p",l,Object(n["C"])(e.message),1)):Object(n["f"])("",!0)])}var u=Object(n["k"])({name:"ErrorMessage",props:{message:{type:String,required:!0}}}),o=r("d959"),s=r.n(o);const i=s()(u,[["render",a]]);t["a"]=i},"99af":function(e,t,r){"use strict";var n=r("23e7"),c=r("da84"),l=r("d039"),a=r("e8b5"),u=r("861d"),o=r("7b0b"),s=r("07fa"),i=r("8418"),d=r("65f0"),b=r("1dde"),h=r("b622"),j=r("2d00"),O=h("isConcatSpreadable"),_=9007199254740991,f="Maximum allowed index exceeded",v=c.TypeError,p=j>=51||!l((function(){var e=[];return e[O]=!1,e.concat()[0]!==e})),m=b("concat"),y=function(e){if(!u(e))return!1;var t=e[O];return void 0!==t?!!t:a(e)},g=!p||!m;n({target:"Array",proto:!0,forced:g},{concat:function(e){var t,r,n,c,l,a=o(this),u=d(a,0),b=0;for(t=-1,n=arguments.length;t<n;t++)if(l=-1===t?a:arguments[t],y(l)){if(c=s(l),b+c>_)throw v(f);for(r=0;r<c;r++,b++)r in l&&i(u,b,l[r])}else{if(b>=_)throw v(f);i(u,b++,l)}return u.length=b,u}})},f5a0:function(e,t,r){"use strict";r("2c7d")}}]);
//# sourceMappingURL=chunk-050675d0.5369c95f.js.map