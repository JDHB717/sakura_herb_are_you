(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ebab33de"],{"1c73":function(e,t,s){"use strict";var n=s("7a23"),r={key:0,class:"p-0 m-0"};function a(e,t,s,a,c,i){return 0!==e.errorMessages.length?(Object(n["s"])(),Object(n["g"])("div",r,[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["y"])(e.errorMessages,(function(e,t){return Object(n["s"])(),Object(n["g"])("p",{key:t,class:"text-danger p-0 m-0"},Object(n["C"])(e),1)})),128))])):Object(n["f"])("",!0)}var c=Object(n["k"])({props:{errorMessages:{type:Array,default:[],required:!1}}}),i=s("d959"),u=s.n(i);const o=u()(c,[["render",a]]);t["a"]=o},"40cf":function(e,t,s){"use strict";s.r(t);var n=s("7a23"),r=Object(n["h"])("h2",{class:"mb-3"},"Home",-1),a={key:0,id:"app"},c=Object(n["h"])("p",{class:"text-danger"}," キャッシュを削除するために、反映までに少し時間がかかります ",-1),i={class:"table table-striped"},u=Object(n["h"])("th",null,[Object(n["i"])("動画1"),Object(n["h"])("br"),Object(n["i"])("アップできるフォーマットは動画のみとなります")],-1),o={class:"py-2"},l=["src"];function p(e,t,s,p,d,b){var h=Object(n["A"])("ErrorMessage"),g=Object(n["A"])("UploadFile");return Object(n["s"])(),Object(n["g"])(n["a"],null,[r,Object(n["j"])(h,{message:e.message},null,8,["message"]),e.isShow?(Object(n["s"])(),Object(n["g"])("div",a,[Object(n["h"])("div",null,[c,Object(n["h"])("table",i,[Object(n["h"])("tr",null,[u,Object(n["h"])("td",o,[Object(n["j"])(g,{filePath:e.filePath},null,8,["filePath"])]),Object(n["h"])("td",null,[Object(n["h"])("video",{width:"200",height:"",controls:"",src:e.cloudFrontBaseurl+e.filePath+"?"+e.dateTime},null,8,l)])])])])])):Object(n["f"])("",!0)],64)}var d=s("1da1"),b=(s("96cf"),s("8e27")),h=s("1c73"),g=s("8a99"),m=Object(n["k"])({name:"PageHome",components:{ErrorMessage:b["a"],ValidateError:h["a"],UploadFile:g["a"]},data:function(){return{isShow:!1,message:"",items:[],submitDisable:!1,cloudFrontBaseurl:"https://d1jw4m1s7z1xyc.cloudfront.net/herbareyou/",filePath:"assets/img/home/home.mp4",dateTime:Date.now()}},beforeRouteUpdate:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,s,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t,s,n){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isShow=!0;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{commonError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;422===e.status&&(this.validateErrors=e.data),""!==e.message&&(this.message=e.message)}}}),f=s("d959"),j=s.n(f);const O=j()(m,[["render",p]]);t["default"]=O},"8a99":function(e,t,s){"use strict";var n=s("7a23"),r={id:""};function a(e,t,s,a,c,i){var u=Object(n["A"])("ErrorMessage");return Object(n["s"])(),Object(n["g"])("div",r,[Object(n["h"])("div",null,[e.inputFileFlg?(Object(n["s"])(),Object(n["g"])("input",{key:0,type:"file",id:"file",onChange:t[0]||(t[0]=function(){return e.uploadToS3&&e.uploadToS3.apply(e,arguments)})},null,32)):Object(n["f"])("",!0)]),Object(n["j"])(u,{message:e.message},null,8,["message"])])}var c=s("1da1"),i=(s("96cf"),s("b0c0"),s("b32d")),u=s("bc3a"),o=s.n(u),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(i["a"])({url:"".concat("http://localhost:8000/api/admin/v1/","upload-files/getPreSignedUrl"),method:"post",params:{file_name:e,file_path:t}})},p=function(e){return Object(i["a"])({url:"".concat("http://localhost:8000/api/admin/v1/","upload-files/confirm"),method:"post",params:{hash:e}})},d=function(e,t){var s={"Content-Type":t.type};return o.a.put(e,t,{headers:s}).then((function(e){return{success:!0}})).catch((function(e){return console.log(e.status),{success:!1}}))},b=s("8e27"),h=Object(n["k"])({name:"UploadFile",layout:"base",components:{ErrorMessage:b["a"]},props:{filePath:{type:String,required:!1}},data:function(){return{message:"",inputFileFlg:!0}},methods:{resetMessage:function(){this.message=""},setInputFileEmpty:function(){this.inputFileFlg=!1,this.$nextTick((function(){this.inputFileFlg=!0}))},uploadToS3:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var s,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.message="",console.log("uploaded files",t.target.files),s=t.target.files[0],e.next=5,l(s.name,this.filePath);case 5:if(n=e.sent,console.log(n),n.success){e.next=10;break}return this.message="アップロードに失敗しました",e.abrupt("return");case 10:return console.log("url:",n.data.pre_signed_url),e.next=13,d(n.data.pre_signed_url,s);case 13:if(r=e.sent,console.log("success"),r.success){e.next=18;break}return this.message="アップロードに失敗しました",e.abrupt("return");case 18:return e.next=20,p(n.data.hash);case 20:if(a=e.sent,a.success){e.next=24;break}return this.message="アップロードに失敗しました",e.abrupt("return");case 24:this.setInputFileEmpty(),this.$emit("uploadedFile",a.data);case 26:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){}}),g=s("d959"),m=s.n(g);const f=m()(h,[["render",a]]);t["a"]=f},"8e27":function(e,t,s){"use strict";var n=s("7a23"),r={class:"mb-3 mt-4 mp-0 w-75"},a={key:0,class:"text-danger"};function c(e,t,s,c,i,u){return Object(n["s"])(),Object(n["g"])("div",r,[e.message?(Object(n["s"])(),Object(n["g"])("p",a,Object(n["C"])(e.message),1)):Object(n["f"])("",!0)])}var i=Object(n["k"])({name:"ErrorMessage",props:{message:{type:String,required:!0}}}),u=s("d959"),o=s.n(u);const l=o()(i,[["render",c]]);t["a"]=l}}]);
//# sourceMappingURL=chunk-ebab33de.f83a0895.js.map